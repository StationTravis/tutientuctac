<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Tiên Túc Tắc - Trang Chủ</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Noto+Serif+JP:wght@400;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <img src="IMG/logo-tu-tien.png" alt="Tu Tiên Túc Tắc Logo">
    </header>

    <div class="container">
        
        <aside class="sidebar-left glass-panel">
            <h3>Danh Mục</h3>
            <nav class="main-nav">
                <ul>
                    <li><a href="#" class="nav-link active" data-tab="tin-tuc">Tin Tức</a></li>
                    <li><a href="#" class="nav-link" data-tab="nap-the">Nạp Thẻ</a></li>
                    <li><a href="#" class="nav-link" data-tab="lien-he">Liên Hệ</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content glass-panel">
            
            <div id="tin-tuc" class="tab-content active">
                <h2>Tin Tức Mới Nhất</h2>
                <p>Chào mừng đến với Tu Tiên Túc Tắc!</p>
                <p>Nội dung tin tức, sự kiện, cập nhật phiên bản game sẽ được đăng tải ở đây. Chúng tôi luôn mang đến những thông tin nóng hổi nhất, các sự kiện độc đáo và những phần quà giá trị dành cho các vị đạo hữu.</p>
                <p>Khám phá thế giới tu tiên đầy màu sắc, nơi mà mỗi bước chân đều ẩn chứa những cơ hội và thách thức mới. Liệu bạn có đủ bản lĩnh để vượt qua muôn vàn kiếp nạn, phi thăng thành Tiên? Hãy cùng đồng hành và viết nên câu chuyện tu tiên của riêng mình.</p>
                <p>Các hoạt động ingame như săn boss, phó bản, bang chiến sẽ liên tục được cập nhật. Đừng bỏ lỡ các thông báo quan trọng để không bỏ lỡ bất kỳ phúc lợi nào từ game nhé. Chúc các vị đạo hữu có những giây phút giải trí tuyệt vời cùng Tu Tiên Túc Tắc!</p>
            </div>

            <div id="nap-the" class="tab-content">
                <h2>Nạp Thẻ</h2>
                <p>Chào mừng quý đạo hữu đến với trang nạp thẻ của Tu Tiên Túc Tắc. Để trải nghiệm hành trình tu tiên một cách trọn vẹn nhất, quý vị có thể nạp thẻ để sở hữu các vật phẩm quý giá, tăng cường sức mạnh và khám phá những tính năng độc quyền.</p>
                <p>Chúng tôi hỗ trợ nhiều phương thức nạp thẻ tiện lợi và an toàn. Vui lòng chọn một trong các cổng thanh toán sau đây để tiến hành giao dịch:</p>
                <ul>
                    <li>**Thẻ Cào Điện Thoại:** Viettel, Mobifone, Vinaphone (chiết khấu ưu đãi).</li>
                    <li>**Thẻ Ngân Hàng/Chuyển Khoản:** Hỗ trợ hầu hết các ngân hàng tại Việt Nam.</li>
                    <li>**Ví Điện Tử:** Momo, ZaloPay, ViettelPay.</li>
                    <li>**Thẻ Game:** Vcoin, Gate, ZingCard.</li>
                </ul>
                <p>Mọi giao dịch sẽ được xử lý nhanh chóng và tự động. Nếu có bất kỳ vấn đề nào trong quá trình nạp thẻ, vui lòng liên hệ bộ phận hỗ trợ của chúng tôi qua tab Liên Hệ để được giải đáp kịp thời.</p>
                <p>Chúc quý đạo hữu có những trải nghiệm thăng hoa cùng Tu Tiên Túc Tắc!</p>
            </div>

            <div id="lien-he" class="tab-content">
                <h2>Thông Tin Liên Hệ</h2>
                <div class="contact-info">
                    <p>
                        <strong>Tên:</strong> Travis
                    </p>
                    <p>
                        <strong>SĐT:</strong> 090xxx208
                        <a href="https://zalo.me/090xxx208" target="_blank" class="contact-button zalo-button">Liên hệ Zalo</a>
                    </p>
                    <p>
                        <strong>Fb:</strong> Cập nhật sau
                        <a href="https://facebook.com/your-facebook-page" target="_blank" class="contact-button fb-button">Facebook</a> 
                    </p>
                    <p>
                        <strong>Email:</strong> capnhatsau@gmail.com
                        <a href="mailto:tuilatuan.xx1@gmail.com" class="contact-button gmail-button">Gửi Email</a>
                    </p>
                </div>
            </div>

        </main>

        <aside class="sidebar-right">

           <form class="login-form glass-panel" id="loginForm">
                <h4>Đăng Nhập</h4>
                
                <label for="username">Tên tài khoản:</label>
                <input type="text" id="username" name="username" required>
                
                <label for="password">Mật khẩu:</label>
                <input type="password" id="password" name="password" required>
                
                <button type="submit">Đăng Nhập</button>
                
                <div class="login-links">
                    <a href="#">Đăng Ký?</a>
                    <a href="#">Quên Mật Khẩu?</a>
                </div>
            </form>
				<div class="user-menu glass-panel" id="userMenu" style="display: none;">
					<h4>Căn Cước của Đạo Hữu</h4>
					<button id="playGameButton" class="btn-primary game-action-button" title="Bắt đầu chơi game">
						<img src="IMG/play-icon.png" alt="Play Icon" class="play-icon-img"> 
					</button>
					<nav class="user-nav">
						<ul>
							<li><a href="#" data-menu="account">Tài Khoản</a></li>
							<li><a href="#" data-menu="change-pass">Đổi Mật Khẩu</a></li>
							<li><a href="#" data-menu="nap-the">NẠP THẺ</a></li>
							<li><a href="#" data-menu="shop">Cửa Hàng</a></li>
						</ul>
					</nav>
					<button id="logoutButton" class="logout-button">Đăng Xuất</button>
				</div>
        </aside>

    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        
        // CÁC BIẾN CHUNG
        const navLinks = document.querySelectorAll('.nav-link');
        const tabContents = document.querySelectorAll('.tab-content');
        // const playButton = document.querySelector('.play-game-button a'); // Dòng này bị XÓA
        
        const loginForm = document.getElementById('loginForm');
        const userMenu = document.getElementById('userMenu');
        const logoutButton = document.getElementById('logoutButton');
        const submitButton = loginForm.querySelector('button[type="submit"]'); 

        // BIẾN MỚI CHO NÚT CHƠI GAME
        const playGameButton = document.getElementById('playGameButton');
        
        const mainGamePage = 'main-game.html'; 

        // =================================
        // 1. CHỨC NĂNG CƠ BẢN VÀ LƯU TRẠNG THÁI
        // =================================
        
        function showUserMenu() {
            loginForm.style.display = 'none';
            userMenu.style.display = 'block';
            localStorage.setItem('isLoggedIn', 'true'); 
        }

        function showLoginForm() {
            loginForm.style.display = 'block';
            userMenu.style.display = 'none';
            localStorage.setItem('isLoggedIn', 'false');
        }

        function handleLoginSuccess() {
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            alert('✅ Đăng nhập thành công! Chào mừng Đạo Hữu!');
            showUserMenu();
        }

        function handleLogout() {
            showLoginForm();
            alert('Đã đăng xuất.');
        }

        // =================================
        // 2. CHỨC NĂNG KIỂM TRA TRẠNG THÁI KHI LOAD TRANG
        // =================================
        
        function checkLoginStateOnLoad() {
            const loggedIn = localStorage.getItem('isLoggedIn');
            
            if (loggedIn === 'true') {
                showUserMenu();
            } else {
                showLoginForm(); 
            }
        }
        
        checkLoginStateOnLoad();


        // =================================
        // 3. LOGIC XỬ LÝ NÚT BẤM
        // =================================

        // A. Xử lý nút Đăng Nhập (Bấm bất cứ gì cũng login)
        submitButton.addEventListener('click', function(event) {
            event.preventDefault(); 
            handleLoginSuccess();
        });

        // B. Xử lý nút CHƠI GAME (NÚT MỚI)
        playGameButton.addEventListener('click', function(event) {
            event.preventDefault(); 
            
            // Chuyển đến Loading.html khi bấm Play game
            window.location.href = 'Loading.html'; 
        });
        
        // C. Xử lý nút Đăng Xuất
        logoutButton.addEventListener('click', handleLogout);

        // =================================
        // 4. CHỨC NĂNG CHUYỂN TAB (GIỮ NGUYÊN)
        // =================================
        navLinks.forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault(); 
                const targetTabId = link.getAttribute('data-tab');
                const targetTab = document.getElementById(targetTabId);

                navLinks.forEach(function(navLink) { navLink.classList.remove('active'); });
                tabContents.forEach(function(tab) { tab.classList.remove('active'); });

                link.classList.add('active');

                if (targetTab) { targetTab.classList.add('active'); }
            });
        });
    });
</script>

</body>
</html>

